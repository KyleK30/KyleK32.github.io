<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet" href="style.css">
<head>
    <meta charset="UTF-8">
    <title>Sports Jeopardy!!</title>
        </head>
<body>
<ul id="bar">
    <li class="bat"><a class="active" href="index.html">Home</a></li>
    <li class="bat"><a href="basketball.html">Basketball</a></li>
    <li class="bat"><a href="baseball.html">Baseball</a></li>
    <li class="bat"><a href="cricket.html">Cricket</a></li>
    <li class="bat"><a href="football.html">Football</a></li>
    <li class="bat"><a href="hockey.html">Hockey</a></li>
    <li class="bat"><a href="soccer.html">Soccer</a></li>
</ul>
<link href="https://fonts.googleapis.com/css?family=Kavivanar" rel="stylesheet">
<h1>Basketball!!</h1>
<form id="quiz-form">
<table>
    <tbody>
    <tr>
        <td>
            <p id="q1" onclick="myFunction1()">200</p><br>
            <fieldset>
            <label><input name="question1" value="usa" type="radio">The United States</label><br>
            <label><input name="question1" value="aus" type="radio">Australia</label><br>
            <label><input name="question1" value="fra" type="radio">France</label><br>
            <label><input name="question1" value="eng" type="radio">England</label><br>
            </fieldset>
        </td>
        <td>
            <p id="q2" onclick="myFunction2()">200</p><br>
            <label>
                Your answer:
                <input id="answer2" type="text">
            </label>
            <button type="submit">Check me</button>
        </td>
        <td>
            <p id="q3" onclick="myFunction3()">200</p><br>
            <label>
                Your answer:
                <input id="answer3" type="text">
            </label>
            <button type="submit">Check me</button>
        </td>
    </tr>
    <tr>
        <td>
            <p id="q4" onclick="myFunction4()">400</p><br>
            <label>
                Your answer:
                <input id="answer4" type="text">
            </label>
            <button type="submit">Check me</button>
        </td>
        <td>
            <p id="q5" onclick="myFunction5()">400</p><br>
            <label>
                Your answer:
                <input id="answer5" type="text">
            </label>
            <button type="submit">Check me</button>
        </td>
        <td>
            <p id="q6" onclick="myFunction6()">400</p><br>
            <label>
                Your answer:
                <input id="answer6" type="text">
            </label>
            <button type="submit">Check me</button>
        </td>
    </tr>
    <tr>
        <td>
            <p id="q7" onclick="myFunction7()">600</p><br>
            <label>
                Your answer:
                <input id="answer7" type="text">
            </label>
            <button type="submit">Check me</button>
        </td>
        <td>
            <p id="q8" onclick="myFunction8()">600</p><br>
            <label>
                Your answer:
                <input id="answer8" type="text">
            </label>
            <button type="submit">Check me</button>
        </td>
        <td>
            <p id="q9" onclick="myFunction9()">600</p><br>
            <label>
                Your answer:
                <input id="answer9" type="text">
            </label>
            <button type="submit">Check me</button>
        </td>
    </tr>
    <tr>
        <td>
            <p id="q10" onclick="myFunction10()">800</p><br>
            <label>
                Your answer:
                <input id="answer10" type="text">
            </label>
            <button type="submit">Check me</button>
        </td>
        <td>
            <p id="q11" onclick="myFunction11()">800</p><br>
            <label>
                Your answer:
                <input id="answer11" type="text">
            </label>
            <button type="submit">Check me</button>
        </td>
        <td>
            <p id="q12" onclick="myFunction12()">800</p><br>
            <label>
                Your answer:
                <input id="answer12" type="text">
            </label>
            <button type="submit">Check me</button>
        </td>
    </tr>
    <label>
     Your name:
     <input id="player" type="text">
   </label>

    <button type="submit">Check me</button>
  </form>
  
  <div id="results"></div>
   <h4>High scores</h4>
 <ol id="scores">
   Loading...
 </ol>
<script>
    var score = 0
    function insertScore(player, score) {
 var url = '/scores/insert';

 var request = new XMLHttpRequest();
 request.addEventListener('load', function () {
   if (this.status !== 200) {
     alert('Error!');
     console.log(this.response);
   } else {
     getScores();
   }
 });
 request.open('POST', url, true);
 request.setRequestHeader('Content-type', 'application/json');
 var data = {'player': player, 'score': score};
 request.send(JSON.stringify(data));
}
function getScores() {
 var url = '/scores/top10';

 var request = new XMLHttpRequest();
 request.addEventListener('load', function () {
   var scores = JSON.parse(this.responseText);
   console.log(scores);
   var scoresDiv = document.getElementById('scores');
   scoresDiv.innerHTML = '';
   for (var i = 0; i < scores.length; i++) {
     scoresDiv.innerHTML += '<li>' + scores[i].player + ': ' + scores[i].score;
   }
 });
 request.open('GET', url, true);
 request.setRequestHeader('Content-type', 'application/json');
 request.send();
}
    var score = 0
    var quizForm = document.getElementById("quiz-form");
    quizForm.addEventListener("submit", function(event) {
      event.preventDefault();
      var playerName = document.getElementById('player').value || 'Anon';
      
    function myFunction1() {
        document.getElementById("q1").innerHTML = "What is Jake's first name?";
        }
    function myFunction2() {
        document.getElementById("q2").innerHTML = "What is Jake's middle name?";
        }
    function myFunction3() {
        document.getElementById("q3").innerHTML = "What is Jake's last name?";
        }
    function myFunction4() {
        document.getElementById("q4").innerHTML = "What is Jake's first name?";
        }
    function myFunction5() {
        document.getElementById("q5").innerHTML = "What is Jake's middle name?";
        }
    function myFunction6() {
        document.getElementById("q6").innerHTML = "What is Jake's last name?";
        }
    function myFunction7() {
        document.getElementById("q7").innerHTML = "What is Jake's first name?";
        }
    function myFunction8() {
        document.getElementById("q8").innerHTML = "What is Jake's middle name?";
        }
    function myFunction9() {
        document.getElementById("q9").innerHTML = "What is Jake's last name?";
        }
    function myFunction10() {
        document.getElementById("q10").innerHTML = "What is Jake's first name?";
        }
    function myFunction11() {
        document.getElementById("q11").innerHTML = "What is Jake's middle name?";
        }
    function myFunction12() {
        document.getElementById("q12").innerHTML = "What is Jake's last name?";
        }
    var resultsDiv = document.getElementById("results");
      // answer1 stores whatever <input> element that they checked
      //  or null if they didn't check any answer
      var answer1 = document.querySelector('[name="question1"]:checked');
      var answer2 = document.querySelector('[name="question2"]:checked');
      var answer3 = document.querySelector('[name="question3"]:checked');
      var answer4 = document.querySelector('[name="question4"]:checked');
      var answer5 = document.querySelector('[name="question5"]:checked');
      var answer6 = document.querySelector('[name="question6"]:checked');
      if (!answer1 || !answer2 || !answer3 || !answer4 || !answer5 || !answer6) {
        resultsDiv.innerHTML = "You didn't mark an answer for all of the questions! Sadface";
      } else {
        if (answer1.value === "usa") {
           score += 5;
        }
        if (answer2.value === "mad") {
          score += 5;
        }
        if (answer3.value === "mac") {
          score += 5;
        }
        if (answer4.value === "rme") {
          score += 5;
        }
        if (answer5.value === "flt") {
          score += 5;
        }
        if (answer6.value === "aus") {
          score += 5;
        }
        // answer1.value is the value attribute of the checked <input>
        if (answer1.value === "usa" && answer2.value === "mad" && answer3.value === "mac" && answer4.value === "rme" && answer5.value === "flt" && answer6.value === "aus") {
          resultsDiv.innerHTML = "You got it! Your score was " + score + " out of 30.";
          insertScore(playerName,score)
          score = 0
        } 
        else if (answer1.value === "usa" || answer2.value === "mad" || answer3.value === "mac" || answer4.value === "rme" || answer5.value === "flt" || answer6.value === "aus") {
          resultsDiv.innerHTML = "You got some of the question right! Your score was " + score + " out of 30. Please try again.";
          insertScore(playerName,score)
          score = 0
        }
        else {
          resultsDiv.innerHTML = "You got all questions wrong. Your score was " + score + " out of 30. Try again!";
          insertScore(playerName,score)
          score = 0
        }
        getScore()
  
      }
    });
    
    
    </script>
</body>
</html>
